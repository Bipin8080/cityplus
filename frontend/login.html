<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>CityPlus â€“ Login</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="css/styles.css" />
</head>
<body>
  <header class="navbar">
    <div class="container navbar-inner">
      <div class="brand">
        <div class="brand-logo"></div>
        <div>
          <div class="brand-title">CityPlus</div>
          <div class="brand-subtitle">Login</div>
        </div>
      </div>
      <nav>
        <a href="index.html" class="btn btn-outline">Back to Home</a>
      </nav>
    </div>
  </header>

  <main class="container">
    <div class="form-wrapper">
      <div style="display: flex; gap: 16px; margin-bottom: 24px; border-bottom: 1px solid var(--border-color);">
        <button id="loginTab" class="tab-button active" onclick="switchToLogin()">Login</button>
        <button id="registerTab" class="tab-button" onclick="switchToRegister()">Create Account</button>
      </div>

      <!-- Login Form -->
      <div id="loginForm">
        <h1 class="form-title">Sign in to CityPlus</h1>
        <p class="form-subtitle">
          Access your account using your registered email address and password.
          Role-based dashboards will be displayed based on your account type.
        </p>

        <form onsubmit="event.preventDefault(); loginUser();">
          <div class="form-group">
            <label class="form-label" for="email">Email Address</label>
            <input id="email" type="email" class="form-input" placeholder="Enter your registered email address" required />
          </div>

          <div class="form-group">
            <label class="form-label" for="password">Password</label>
            <input id="password" type="password" class="form-input" placeholder="Enter your password" required />
          </div>

          <div class="form-group" style="margin-bottom: 1.2rem;">
            <label style="font-size: 0.8rem;">
              <input type="checkbox" /> Keep me signed in
            </label>
          </div>

          <button type="submit" class="btn btn-primary" style="width: 100%;">
            Login
          </button>

          <p class="form-helper" style="margin-top: 0.9rem;">
            After successful authentication, you will be redirected to your role-specific dashboard.
          </p>
        </form>
      </div>

      <!-- Registration Form -->
      <div id="registerForm" style="display: none;">
        <h1 class="form-title">Create New Account</h1>
        <p class="form-subtitle">
          Register for a CityPlus account to report civic issues or manage municipal services.
          All fields are required.
        </p>

        <form onsubmit="event.preventDefault(); registerUser();">
          <div class="form-group">
            <label class="form-label" for="regName">Full Name</label>
            <input id="regName" type="text" class="form-input" placeholder="Enter your full name" required />
            <p class="form-helper">This name will be displayed on your dashboard.</p>
          </div>

          <div class="form-group">
            <label class="form-label" for="regRole">Account Type</label>
            <select id="regRole" class="form-select" required>
              <option value="">Select account type</option>
              <option value="citizen">Citizen</option>
              <option value="staff">Municipal Staff</option>
              <option value="admin">Administrator</option>
            </select>
            <p class="form-helper">Select your account type to access the appropriate dashboard.</p>
          </div>

          <div class="form-group">
            <label class="form-label" for="regEmail">Email Address</label>
            <input id="regEmail" type="email" class="form-input" placeholder="Enter your email address" required />
          </div>

          <div class="form-group">
            <label class="form-label" for="regPassword">Password</label>
            <input id="regPassword" type="password" class="form-input" placeholder="Create a password" required />
            <p class="form-helper">Use a strong password with at least 6 characters.</p>
          </div>

          <div class="form-group">
            <label class="form-label" for="regConfirmPassword">Confirm Password</label>
            <input id="regConfirmPassword" type="password" class="form-input" placeholder="Re-enter your password" required />
          </div>

          <button type="submit" class="btn btn-primary" style="width: 100%;">
            Create Account
          </button>

          <p class="form-helper" style="margin-top: 0.9rem;">
            After registration, you will be automatically logged in and redirected to your dashboard.
          </p>
        </form>
      </div>
    </div>
  </main>
  <script src="js/theme.js"></script>
  <script src="js/auth.js"></script>
</body>
</html>
